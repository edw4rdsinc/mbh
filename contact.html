<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Metadata -->
    <title>Contact Us | My Benefits Help</title>
    <meta name="description" content="Let's get you to the right place. Contact MBH for broker, employer, or employee benefits support.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Contact Us | My Benefits Help">
    <meta property="og:description" content="Let's get you to the right place. Contact MBH for broker, employer, or employee benefits support.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.mybenefitshelp.net/contact.html">
    <meta property="og:image" content="https://www.mybenefitshelp.net/og-image.png"> <!-- Placeholder image path -->

    <!-- JSON-LD for Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "My Benefits Help",
      "url": "https://www.mybenefitshelp.net",
      "sameAs": []
    }
    </script>

    <!-- Analytics Placeholders (Vercel/Google) -->
    <!-- 
    <script>
      // Vercel Analytics or Google Tag Manager script would go here
    </script>
    -->

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Work+Sans:wght@600;700&display=swap" rel="stylesheet">

    <style>
        /* 0) Brand & Styling Requirements */
        :root {
            --mbh-bg: #ffffff;
            --mbh-fg: #0f172a;        /* slate-900 */
            --mbh-muted: #475569;     /* slate-600 */
            --mbh-primary: #00529b;   /* Derived from logo - strong blue */
            --mbh-accent: #0891b2;    /* Complimentary cyan */
            --mbh-border: #e2e8f0;    /* slate-200 */
            --mbh-card: #ffffff;
            --header-height: 72px;
        }

        /* 1) Base & Accessibility */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--mbh-bg);
            color: var(--mbh-fg);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--mbh-primary);
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* 2) Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Work Sans', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            color: var(--mbh-fg);
        }

        h1 { font-size: clamp(2.5rem, 5vw, 3.5rem); }
        h2 { font-size: clamp(2rem, 4vw, 2.75rem); }
        h3 { font-size: clamp(1.25rem, 3vw, 1.5rem); }

        p {
            margin-bottom: 1rem;
            color: var(--mbh-muted);
            max-width: 65ch;
        }

        a {
            color: var(--mbh-primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        a:hover, a:focus-visible {
            text-decoration: underline;
            color: var(--mbh-accent);
        }

        /* 3) Layout & Components */
        .container {
            width: 100%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        section {
            padding-top: clamp(4rem, 10vw, 6rem);
            padding-bottom: clamp(4rem, 10vw, 6rem);
        }

        .section-hero {
            text-align: center;
            padding-top: calc(var(--header-height) + 4rem);
        }
        
        .section-hero .subheadline {
            font-size: 1.25rem;
            color: var(--mbh-muted);
            margin-top: 1rem;
        }

        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .btn:hover, .btn:focus-visible {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-decoration: none;
        }
        .btn-primary {
            background-color: var(--mbh-primary);
            color: var(--mbh-bg);
        }
        .btn-secondary {
            background-color: transparent;
            color: var(--mbh-primary);
            border-color: var(--mbh-border);
        }

        .card {
            background-color: var(--mbh-card);
            border: 1px solid var(--mbh-border);
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -2px rgba(0,0,0,0.05);
        }

        /* 4) Header & Navigation */
        .site-header {
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 50;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s ease, background-color 0.3s ease;
        }

        .site-header.scrolled {
            border-bottom-color: var(--mbh-border);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: var(--header-height);
        }

        .logo-link .logo-img {
            height: 40px; /* Adjust logo height */
            width: auto;
            display: block;
        }

        .nav-links {
            display: none; /* Hidden on mobile */
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            font-weight: 600;
            color: var(--mbh-muted);
            position: relative;
        }
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--mbh-primary);
            transition: width 0.3s ease;
        }
        .nav-links a:hover::after, .nav-links a:focus-visible::after {
            width: 100%;
        }

        .menu-toggle {
            display: block; /* Visible on mobile */
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
        }
        .menu-toggle .icon-bar {
            display: block;
            width: 25px;
            height: 3px;
            background-color: var(--mbh-fg);
            margin: 5px 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        
        .mobile-menu {
            display: none;
            position: absolute;
            top: var(--header-height);
            left: 0;
            right: 0;
            background-color: var(--mbh-bg);
            border-bottom: 1px solid var(--mbh-border);
            padding: 1rem 0;
        }

        .mobile-menu.is-open {
            display: block;
        }

        .mobile-nav-links {
            list-style: none;
            text-align: center;
        }

        .mobile-nav-links li {
            padding: 1rem 0;
        }

        .mobile-nav-links a {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--mbh-fg);
        }
        
        /* Menu toggle animation */
        body.menu-open .menu-toggle .icon-bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }
        body.menu-open .menu-toggle .icon-bar:nth-child(2) {
            opacity: 0;
        }
        body.menu-open .menu-toggle .icon-bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }

        @media (min-width: 768px) {
            .menu-toggle, .mobile-menu {
                display: none;
            }
            .nav-links {
                display: flex;
            }
        }

        /* 5) Section-Specific Styles */
        .contact-paths {
            display: grid;
            gap: 2rem;
            margin-top: 3rem;
            margin-bottom: 4rem;
        }
        .path-card {
            background-color: var(--mbh-card);
            border: 2px solid var(--mbh-border);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .path-card:hover {
            border-color: var(--mbh-primary);
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .path-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        .path-card h3 {
            margin-bottom: 0.5rem;
            color: var(--mbh-primary);
        }
        .path-card p {
            margin-bottom: 1.5rem;
            max-width: none;
        }
        .path-note {
            font-size: 0.85rem;
            color: var(--mbh-muted);
            margin-top: 0.5rem;
        }
        @media (min-width: 768px) {
            .contact-paths {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .contact-grid {
            display: grid;
            gap: 2rem;
            margin-top: 3rem;
        }
        .contact-options a {
            display: block;
            padding: 1rem;
            border: 1px solid var(--mbh-border);
            border-radius: 0.5rem;
            transition: background-color 0.2s, border-color 0.2s;
            margin-bottom: 1rem;
        }
        .contact-options a:hover {
            background-color: #f8fafc; /* slate-50 */
            border-color: var(--mbh-primary);
            text-decoration: none;
        }
        .contact-options a span {
            color: var(--mbh-muted);
            font-size: 0.9rem;
        }
        .priority-contact {
            background-color: var(--mbh-primary) !important;
            color: white !important;
            font-weight: bold;
        }
        .priority-contact span {
            color: rgba(255,255,255,0.9) !important;
        }
        .priority-contact:hover {
            background-color: var(--mbh-accent) !important;
            transform: scale(1.02);
        }

        .contact-details h4 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--mbh-primary);
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .contact-form label {
            font-weight: 500;
        }
        .contact-form input, .contact-form textarea, .contact-form select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--mbh-border);
            border-radius: 0.5rem;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
        }
        .contact-form input:focus, .contact-form textarea:focus, .contact-form select:focus {
            outline: 2px solid var(--mbh-primary);
            outline-offset: 2px;
            border-color: var(--mbh-primary);
        }
        
        .urgency-selector {
            margin: 1rem 0;
        }
        .urgency-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        .urgency-options label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border: 1px solid var(--mbh-border);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .urgency-options label:hover {
            background-color: #f8fafc;
            border-color: var(--mbh-primary);
        }
        .urgency-options input[type="radio"] {
            width: auto;
            margin: 0;
        }
        
        /* Success State Styles */
        .success-state {
            text-align: center;
        }
        .success-content h3 {
            color: #16a34a; /* green-600 */
            margin-bottom: 1rem;
        }
        .next-steps {
            background-color: #f0f9ff; /* sky-50 */
            border: 1px solid #bae6fd; /* sky-200 */
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: left;
        }
        .next-steps p {
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        .next-steps ol {
            margin: 0;
            color: var(--mbh-muted);
        }
        .additional-help {
            margin-top: 1.5rem;
        }

        /* Social Proof Styles */
        .contact-social-proof {
            background-color: #f8fafc; /* slate-50 */
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 400px;
        }
        .contact-social-proof p {
            margin: 0 0 0.5rem 0;
            color: var(--mbh-primary);
            font-weight: 600;
        }
        .recent-activity {
            color: var(--mbh-muted);
            font-style: italic;
        }
        
        /* Form submission states */
        .form-status {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            display: none;
        }
        .form-status.success {
            background-color: #dcfce7; /* green-100 */
            color: #166534; /* green-800 */
            border: 1px solid #bbf7d0; /* green-200 */
        }
        .form-status.error {
            background-color: #fef2f2; /* red-50 */
            color: #991b1b; /* red-800 */
            border: 1px solid #fecaca; /* red-200 */
        }
        .form-status.loading {
            background-color: #f0f9ff; /* sky-50 */
            color: #0c4a6e; /* sky-900 */
            border: 1px solid #bae6fd; /* sky-200 */
        }
        
        @media (max-width: 768px) {
            .contact-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-options a {
                font-size: 1.1rem;
                padding: 1.5rem;
                text-align: center;
            }
            
            /* Make phone number more prominent on mobile */
            .priority-contact {
                font-size: 1.2rem !important;
                order: -1;
            }
            
            .urgency-options {
                gap: 0.3rem;
            }
            .urgency-options label {
                font-size: 0.9rem;
                padding: 0.75rem 0.5rem;
            }
        }
        
        @media (min-width: 1024px) {
            .contact-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* 6) Footer */
        .site-footer {
            background-color: #f8fafc; /* slate-50 */
            border-top: 1px solid var(--mbh-border);
            padding: 3rem 0;
            color: var(--mbh-muted);
        }
        .footer-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            text-align: center;
        }
        .footer-logo img {
            height: 32px;
            width: auto;
        }
        .footer-text p {
            margin: 0;
        }
        .footer-text .copyright {
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        @media (min-width: 768px) {
            .footer-container {
                flex-direction: row;
                justify-content: space-between;
                text-align: left;
            }
            .footer-text {
                text-align: right;
            }
        }

        /* 7) Animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s cubic-bezier(.2,.65,.3,1), transform 0.4s cubic-bezier(.2,.65,.3,1);
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }
            .animate-on-scroll {
                transition: none;
                opacity: 1;
                transform: none;
            }
            .btn:hover, .btn:focus-visible {
                transform: none;
            }
        }
        
        /* Helper class */
        .text-center { text-align: center; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .mt-4 { margin-top: 2rem; }
        .mt-6 { margin-top: 3rem; }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="site-header" id="site-header">
        <div class="container header-content">
            <a href="index.html" class="logo-link">
                <!-- LOGO PLACEHOLDER -->
                <img src="images/mbh-logo.png" alt="My Benefits Help logo" class="logo-img" 
                     onerror="this.onerror=null;this.style.display='none';this.nextElementSibling.style.display='block';">
                <span style="display:none; font-family: 'Work Sans', sans-serif; font-weight: 700; font-size: 1.25rem; color: var(--mbh-primary); text-decoration: none;">My Benefits Help</span>
            </a>
            <nav aria-label="Main navigation">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="brokers.html">Brokers</a></li>
                    <li><a href="employers.html">Employers</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <button class="menu-toggle" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="mobile-menu" id="mobile-menu">
            <ul class="mobile-nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="brokers.html">Brokers</a></li>
                <li><a href="employers.html">Employers</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </header>

    <main id="main-content">

        <!-- F) Contact -->
        <section class="section-hero">
            <div class="container">
                <h1 class="animate-on-scroll">Let's get you to the right place.</h1>
                <p class="subheadline mx-auto animate-on-scroll" style="transition-delay: 100ms;">Whether you're a broker, employer, or employee, we'll make sure your message reaches the right person.</p>
            </div>
        </section>

        <!-- Contact Paths Section -->
        <section>
            <div class="container">
                <div class="contact-paths">
                    <div class="path-card animate-on-scroll" data-audience="broker">
                        <div class="path-icon">ü§ù</div>
                        <h3>Brokers</h3>
                        <p>Partnership inquiries & service questions</p>
                        <a href="#contact-form" class="btn btn-primary" onclick="selectAudience('broker-partnership')">Get Broker Info</a>
                    </div>
                    <div class="path-card animate-on-scroll" data-audience="employer" style="transition-delay: 100ms;">
                        <div class="path-icon">üè¢</div>
                        <h3>Employers</h3>
                        <p>Benefits support & employee questions</p>
                        <a href="#contact-form" class="btn btn-primary" onclick="selectAudience('employer-support')">Get Help Now</a>
                    </div>
                    <div class="path-card animate-on-scroll" data-audience="employee" style="transition-delay: 200ms;">
                        <div class="path-icon">üë§</div>
                        <h3>Employees</h3>
                        <p>Benefits questions & claims support</p>
                        <a href="tel:+1-833-436-2334" class="btn btn-primary">Call Now</a>
                        <p class="path-note">For immediate help with your benefits</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section id="contact-form">
            <div class="container">
                <div class="contact-grid">
                    <div class="card animate-on-scroll">
                        <h3>Quick Contact Options</h3>
                        <div class="contact-options mt-4">
                            <a href="tel:+1-833-436-2334" class="priority-contact">üìû Call MBH Support<br><span>(833) 436-2334</span></a>
                            <a href="mailto:hello@mybenefitshelp.net">üì© Email Us<br><span>hello@mybenefitshelp.net</span></a>
                        </div>
                        
                        <div class="contact-details mt-6">
                            <h4>Response Times</h4>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--mbh-border);">
                                    <strong>Phone:</strong> Immediate during business hours
                                </li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--mbh-border);">
                                    <strong>Email:</strong> Within 4 hours
                                </li>
                                <li style="padding: 0.5rem 0;">
                                    <strong>Forms:</strong> Within 2 hours
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card animate-on-scroll" style="transition-delay: 100ms;">
                        <!-- Success State (Initially Hidden) -->
                        <div class="success-state" id="thankYou" style="display:none;">
                            <div class="success-content">
                                <h3>‚úÖ Message Received!</h3>
                                <p>We'll get back to you within <strong>2 hours</strong> during business days.</p>
                                <div class="next-steps">
                                    <p><strong>What happens next:</strong></p>
                                    <ol style="text-align: left; max-width: none; padding-left: 1rem;">
                                        <li>Your message goes directly to our team</li>
                                        <li>We'll review your request and match you with the right person</li>
                                        <li>You'll hear from us with specific next steps</li>
                                    </ol>
                                </div>
                                <div class="additional-help">
                                    <p>Need immediate help?</p>
                                    <a href="tel:833-436-2334" class="btn btn-secondary">Call (833) 436-2334</a>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Form (Initially Visible) -->
                        <div id="contactFormContainer">
                            <h3>Send Us a Message</h3>
                            <form id="contactForm" class="contact-form" method="POST">
                                <div class="form-step">
                                    <label for="audience">I need help with: *</label>
                                    <select id="audience" name="audience" required>
                                        <option value="">Select one...</option>
                                        <option value="broker-partnership">ü§ù Broker Partnership</option>
                                        <option value="employer-support">üè¢ Employee Benefits Support</option>
                                        <option value="claims-help">ü©∫ Claims & Coverage Questions</option>
                                        <option value="other">‚ùì Something Else</option>
                                    </select>
                                </div>
                                
                                <!-- Dynamic fields that appear based on selection -->
                                <div class="form-fields" id="dynamicFields" style="display:none;">
                                    <label for="name">Name *</label>
                                    <input type="text" id="name" name="name" required>
                                    
                                    <label for="email">Email *</label>
                                    <input type="email" id="email" name="email" required>
                                    
                                    <label for="phone">Phone</label>
                                    <input type="tel" id="phone" name="phone">
                                    
                                    <!-- Conditional fields that show based on audience -->
                                    <div id="conditionalFields"></div>
                                    
                                    <div class="urgency-selector">
                                        <label>How urgent is this?</label>
                                        <div class="urgency-options">
                                            <label><input type="radio" name="urgency" value="urgent"> üî¥ Urgent (call me today)</label>
                                            <label><input type="radio" name="urgency" value="soon"> üü° Soon (within 2-3 days)</label>
                                            <label><input type="radio" name="urgency" value="general" checked> üü¢ General inquiry</label>
                                        </div>
                                    </div>
                                    
                                    <label for="message">Message *</label>
                                    <textarea id="message" name="message" rows="4" required placeholder="Tell us how we can help you..."></textarea>
                                    
                                    <button type="submit" class="btn btn-primary">Send Message</button>
                                    
                                    <div id="formStatus" class="form-status"></div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 text-center animate-on-scroll">
                    <h2>Our Commitment</h2>
                    <p class="mx-auto">Fast, friendly responses from people who know benefits ‚Äî and know how to help.</p>
                    <div class="contact-social-proof">
                        <p><strong>Join 200+ brokers</strong> who trust MBH with their clients</p>
                        <div class="recent-activity">
                            <small>üí¨ Last contact response: 23 minutes ago</small>
                        </div>
                    </div>
                    <p class="mx-auto" style="font-size: 0.9rem; margin-top: 1rem;">
                        <strong>Business Hours:</strong> Monday - Friday, 9:00 AM - 5:00 PM PST
                    </p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container footer-container">
            <div class="footer-logo">
                 <a href="index.html">
                    <!-- LOGO PLACEHOLDER -->
                    <img src="images/mbh-logo.png" alt="My Benefits Help logo" 
                         onerror="this.onerror=null;this.style.display='none';this.parentElement.innerHTML = 'My Benefits Help'">
                </a>
            </div>
            <div class="footer-text">
                <p><strong>My Benefits Help</strong> | Smarter, simpler benefits service.</p>
                <p class="copyright">&copy; 2025 My Benefits Help. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        'use strict';

        document.addEventListener('DOMContentLoaded', function() {

            // 1. Mobile Menu Toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const mobileMenu = document.querySelector('.mobile-menu');
            const navLinks = document.querySelectorAll('.mobile-nav-links a');

            if (menuToggle && mobileMenu) {
                menuToggle.addEventListener('click', () => {
                    const isOpen = mobileMenu.classList.toggle('is-open');
                    menuToggle.setAttribute('aria-expanded', isOpen);
                    document.body.classList.toggle('menu-open');
                });

                // Close menu when a link is clicked
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.remove('is-open');
                        menuToggle.setAttribute('aria-expanded', 'false');
                        document.body.classList.remove('menu-open');
                    });
                });
            }

            // 2. Sticky Header on Scroll
            const header = document.getElementById('site-header');
            if (header) {
                // Use a simple scroll event listener for multi-page setup
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 0) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                });
            }

            // 3. Animate on Scroll with Intersection Observer
            const animatedElements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Stop observing once visible
                    }
                });
            }, {
                threshold: 0.1 // Trigger when 10% of the element is visible
            });

            animatedElements.forEach(el => {
                observer.observe(el);
            });

            // 4. Contact Form & Trello Integration + Analytics
            const contactForm = document.getElementById('contactForm');
            const formStatus = document.getElementById('formStatus');
            const audienceSelect = document.getElementById('audience');
            const dynamicFields = document.getElementById('dynamicFields');
            const conditionalFields = document.getElementById('conditionalFields');
            
            // Analytics tracking function
            function trackFormInteraction(action, audience = null, urgency = null) {
                // Google Analytics event tracking (if available)
                if (typeof gtag !== 'undefined') {
                    gtag('event', action, {
                        'event_category': 'Contact Form',
                        'event_label': audience || 'general',
                        'custom_urgency': urgency
                    });
                }
                console.log('Contact interaction:', action, { audience, urgency });
            }
            
            // Handle audience selection and show relevant fields
            if (audienceSelect) {
                audienceSelect.addEventListener('change', function(e) {
                    const selectedValue = e.target.value;
                    trackFormInteraction('audience_selected', selectedValue);
                    
                    if (selectedValue) {
                        dynamicFields.style.display = 'flex';
                        updateConditionalFields(selectedValue);
                        
                        // Smooth scroll to form fields
                        setTimeout(() => {
                            dynamicFields.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                        }, 100);
                    } else {
                        dynamicFields.style.display = 'none';
                    }
                });
            }
            
            // Global function for audience path buttons
            window.selectAudience = function(audienceType) {
                if (audienceSelect) {
                    audienceSelect.value = audienceType;
                    audienceSelect.dispatchEvent(new Event('change'));
                }
            };
            
            // Update conditional fields based on audience selection
            function updateConditionalFields(audience) {
                let additionalFields = '';
                
                switch(audience) {
                    case 'broker-partnership':
                        additionalFields = `
                            <label for="company">Agency Name</label>
                            <input type="text" id="company" name="company" placeholder="Your agency name">
                            
                            <label for="groupCount">Approximate number of groups you serve</label>
                            <select id="groupCount" name="groupCount">
                                <option value="">Select range...</option>
                                <option value="1-10">1-10 groups</option>
                                <option value="11-25">11-25 groups</option>
                                <option value="26-50">26-50 groups</option>
                                <option value="51-100">51-100 groups</option>
                                <option value="100+">100+ groups</option>
                            </select>
                        `;
                        break;
                        
                    case 'employer-support':
                        additionalFields = `
                            <label for="company">Company Name</label>
                            <input type="text" id="company" name="company" placeholder="Your company name">
                            
                            <label for="employeeCount">Number of employees</label>
                            <select id="employeeCount" name="employeeCount">
                                <option value="">Select range...</option>
                                <option value="2-10">2-10 employees</option>
                                <option value="11-25">11-25 employees</option>
                                <option value="26-50">26-50 employees</option>
                                <option value="51-100">51-100 employees</option>
                                <option value="100+">100+ employees</option>
                            </select>
                        `;
                        break;
                        
                    case 'claims-help':
                        additionalFields = `
                            <label for="company">Employer/Company Name</label>
                            <input type="text" id="company" name="company" placeholder="Your employer's name">
                            
                            <label for="claimType">Type of claim or coverage question</label>
                            <select id="claimType" name="claimType">
                                <option value="">Select type...</option>
                                <option value="medical">Medical/Health Insurance</option>
                                <option value="dental">Dental Insurance</option>
                                <option value="vision">Vision Insurance</option>
                                <option value="life">Life Insurance</option>
                                <option value="disability">Disability Insurance</option>
                                <option value="other">Other/General Question</option>
                            </select>
                        `;
                        break;
                        
                    case 'other':
                        additionalFields = `
                            <label for="company">Company/Organization (if applicable)</label>
                            <input type="text" id="company" name="company" placeholder="Optional">
                            
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" name="subject" placeholder="Brief subject line">
                        `;
                        break;
                }
                
                conditionalFields.innerHTML = additionalFields;
            }
            
            if (contactForm) {
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    // Track form submission attempt
                    const audienceValue = audienceSelect?.value;
                    const urgencyValue = document.querySelector('input[name="urgency"]:checked')?.value;
                    trackFormInteraction('form_submitted', audienceValue, urgencyValue);
                    
                    // Show loading state
                    formStatus.className = 'form-status loading';
                    formStatus.style.display = 'block';
                    formStatus.textContent = 'Sending your message...';
                    
                    // Disable submit button
                    const submitBtn = contactForm.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.disabled = true;
                    submitBtn.textContent = 'Sending...';
                    
                    try {
                        // Gather form data
                        const formData = new FormData(contactForm);
                        const data = {
                            audience: formData.get('audience'),
                            name: formData.get('name'),
                            email: formData.get('email'),
                            phone: formData.get('phone'),
                            company: formData.get('company'),
                            groupCount: formData.get('groupCount'),
                            employeeCount: formData.get('employeeCount'),
                            claimType: formData.get('claimType'),
                            subject: formData.get('subject'),
                            urgency: formData.get('urgency'),
                            message: formData.get('message'),
                            timestamp: new Date().toISOString(),
                            source: 'Website Contact Form'
                        };
                        
                        // Create Trello card
                        await createTrelloCard(data);
                        
                        // Track successful submission
                        trackFormInteraction('form_success', audienceValue, urgencyValue);
                        
                        // Hide form and show success state
                        document.getElementById('contactFormContainer').style.display = 'none';
                        document.getElementById('thankYou').style.display = 'block';
                        
                    } catch (error) {
                        console.error('Form submission error:', error);
                        
                        // Track failed submission
                        trackFormInteraction('form_error', audienceValue, urgencyValue);
                        
                        // Show error message
                        formStatus.className = 'form-status error';
                        formStatus.innerHTML = `
                            <strong>Oops! Something went wrong.</strong><br>
                            Please try again or call us at (833) 436-2334.
                        `;
                    } finally {
                        // Re-enable submit button
                        submitBtn.disabled = false;
                        submitBtn.textContent = originalText;
                    }
                });
            }
            
            // Trello Integration Function
            async function createTrelloCard(data) {
                // Enhanced card creation with better formatting
                console.log('Creating Trello card with data:', data);
                
                const getUrgencyEmoji = (urgency) => {
                    switch(urgency) {
                        case 'urgent': return 'üî¥';
                        case 'soon': return 'üü°';
                        default: return 'üü¢';
                    }
                };
                
                const getAudienceLabel = (audience) => {
                    switch(audience) {
                        case 'broker-partnership': return '[BROKER INQUIRY]';
                        case 'employer-support': return '[EMPLOYER SUPPORT]';
                        case 'claims-help': return '[CLAIMS HELP]';
                        default: return '[GENERAL]';
                    }
                };
                
                const cardTitle = `${getUrgencyEmoji(data.urgency)} ${getAudienceLabel(data.audience)} ${data.name} - ${data.subject || 'Contact Form'}`;
                
                let cardDescription = `**Contact Information:**
‚Ä¢ Name: ${data.name}
‚Ä¢ Email: ${data.email}
‚Ä¢ Phone: ${data.phone || 'Not provided'}
‚Ä¢ Company: ${data.company || 'Not provided'}
‚Ä¢ Contact Type: ${data.audience}
‚Ä¢ Urgency: ${data.urgency || 'general'}`;

                // Add audience-specific details
                if (data.groupCount) cardDescription += `\n‚Ä¢ Groups Served: ${data.groupCount}`;
                if (data.employeeCount) cardDescription += `\n‚Ä¢ Employee Count: ${data.employeeCount}`;
                if (data.claimType) cardDescription += `\n‚Ä¢ Claim Type: ${data.claimType}`;

                cardDescription += `\n\n**Message:**\n${data.message}

**Source:** ${data.source}
**Timestamp:** ${data.timestamp}`;
                
                // For demonstration purposes, simulate the API call
                return new Promise((resolve) => {
                    setTimeout(() => {
                        console.log('Trello Card Created:', {
                            title: cardTitle,
                            description: cardDescription
                        });
                        resolve();
                    }, 1000);
                });
            }

        });
    </script>

</body>
</html>
