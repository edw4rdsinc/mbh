<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Images/mbh-icon.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.mybenefitshelp.net/contact.html">

    <!-- SEO & Metadata -->
    <title>Contact Us | My Benefits Help</title>
    <meta name="description" content="Let's get you to the right place. Contact MBH for broker, employer, or employee benefits support.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Contact Us | My Benefits Help">
    <meta property="og:description" content="Let's get you to the right place. Contact MBH for broker, employer, or employee benefits support.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.mybenefitshelp.net/contact.html">
    <meta property="og:image" content="https://www.mybenefitshelp.net/og-image.png"> <!-- Placeholder image path -->

    <!-- JSON-LD for Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "My Benefits Help",
      "url": "https://www.mybenefitshelp.net",
      "telephone": "+1-833-436-2334",
      "email": "info@mybenefitshelp.net",
      "areaServed": {
        "@type": "Country",
        "name": "United States"
      }
    }
    </script>

    <!-- Analytics Placeholders (Vercel/Google) -->
    <!--
    <script>
      // Vercel Analytics or Google Tag Manager script would go here
    </script>
    -->

    <!-- Privacy-friendly analytics by Plausible -->
    <script async src="https://plausible.io/js/pa-mKoO_v998FrINiNPHI67d.js"></script>
    <script>
      window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
      plausible.init()
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Work+Sans:wght@600;700&display=swap" rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="site-header" id="site-header">
        <div class="container header-content">
            <a href="index.html" class="logo-link">
                <img src="Images/logo-no-tagline.png" alt="My Benefits Help - Employee Benefits Administration Services" class="logo-img" width="200" height="60">
            </a>
            <nav aria-label="Main navigation">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="brokers.html">Brokers</a></li>
                    <li><a href="employers.html">Employers</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <button class="menu-toggle" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="mobile-menu" id="mobile-menu">
            <ul class="mobile-nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="brokers.html">Brokers</a></li>
                <li><a href="employers.html">Employers</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </header>

    <main id="main-content">

        <!-- F) Contact -->
        <section class="section-hero">
            <div class="container">
                <h1 class="animate-on-scroll">Let's get you to the right place.</h1>
                <p class="subheadline mx-auto animate-on-scroll" style="transition-delay: 100ms;">Whether you're a broker, employer, or employee, we'll make sure your message reaches the right person.</p>
            </div>
        </section>

        <!-- Contact Paths Section -->
        <section class="bg-gradient-to-alt">
            <div class="container">
                 <h2 class="text-center animate-on-scroll">Who are you?</h2>
                <div class="contact-paths">
                    <div class="path-card animate-on-scroll" data-audience="broker">
                        <div class="path-icon">ü§ù</div>
                        <h3>Brokers</h3>
                        <p>Partnership inquiries & service questions</p>
                        <a href="#contact-form" class="btn btn-primary" onclick="selectAudience('broker-partnership')">Get Broker Info</a>
                    </div>
                    <div class="path-card animate-on-scroll" data-audience="employer" style="transition-delay: 100ms;">
                        <div class="path-icon">üè¢</div>
                        <h3>Employers</h3>
                        <p>Benefits support & employee questions</p>
                        <a href="#contact-form" class="btn btn-primary" onclick="selectAudience('employer-support')">Get Help Now</a>
                    </div>
                    <div class="path-card animate-on-scroll" data-audience="employee" style="transition-delay: 200ms;">
                        <div class="path-icon">üë§</div>
                        <h3>Employees</h3>
                        <p>Benefits questions & claims support</p>
                        <a href="tel:+1-833-436-2334" class="btn btn-action">Call Now</a>
                        <p class="path-note">For immediate help with your benefits</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section id="contact-form" class="bg-alt">
            <div class="container">
                <div class="contact-grid">
                    <div class="contact-info animate-on-scroll">
                        <h3>Quick Contact Options</h3>
                        <div class="contact-options mt-4">
                            <a href="tel:+18334362334" class="priority-contact">üìû Call MBH Support<br><span>(833) 436-2334</span></a>
                            <a href="mailto:info@mybenefitshelp.net">üì© Email Us<br><span>info@mybenefitshelp.net</span></a>
                        </div>
                        
                        <div class="contact-details mt-6">
                            <h4>Response Times</h4>
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--mbh-border);">
                                    <strong>Phone:</strong> Immediate during business hours
                                </li>
                                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--mbh-border);">
                                    <strong>Email:</strong> Within 4 business hours
                                </li>
                                <li style="padding: 0.5rem 0;">
                                    <strong>Forms:</strong> Within 2 business hours
                                </li>
                            </ul>
                             <p class="mx-auto" style="font-size: 0.9rem; margin-top: 2rem;">
                                <strong>Business Hours:</strong> Monday - Friday, 9:00 AM - 5:00 PM PST
                            </p>
                        </div>
                    </div>
                    
                    <div class="card animate-on-scroll" style="transition-delay: 100ms;">
                        <!-- Success State (Initially Hidden) -->
                        <div class="success-state" id="thankYou" style="display:none;">
                            <!-- Success message is injected by JS -->
                        </div>

                        <!-- Contact Form (Initially Visible) -->
                        <div id="contactFormContainer">
                            <h3>Send Us a Message</h3>
                            <form id="contactForm" class="contact-form" method="POST">
                                <div class="form-field span-full">
                                    <label for="audience">I need help with: *</label>
                                    <select id="audience" name="audience" required>
                                        <option value="">Select one...</option>
                                        <option value="broker-partnership">ü§ù Broker Partnership</option>
                                        <option value="employer-support">üè¢ Employee Benefits Support</option>
                                        <option value="claims-help">ü©∫ Claims & Coverage Questions</option>
                                        <option value="other">‚ùì Something Else</option>
                                    </select>
                                </div>
                                
                                <div class="form-field">
                                    <label for="name">Name *</label>
                                    <input type="text" id="name" name="name" required>
                                </div>
                                
                                <div class="form-field">
                                    <label for="email">Email *</label>
                                    <input type="email" id="email" name="email" required>
                                </div>
                               
                               <div class="form-field span-full" id="conditionalFields">
                                   <!-- Dynamic fields will be injected here -->
                               </div>

                                <div class="form-field span-full">
                                    <label for="message">Message *</label>
                                    <textarea id="message" name="message" rows="5" required placeholder="Tell us how we can help you..."></textarea>
                                </div>

                                <div class="form-field span-full">
                                     <label>How urgent is this?</label>
                                    <div class="urgency-options">
                                        <label><input type="radio" name="urgency" value="urgent"> üî¥ Urgent (call me today)</label>
                                        <label><input type="radio" name="urgency" value="soon"> üü° Soon (within 2-3 days)</label>
                                        <label><input type="radio" name="urgency" value="general" checked> üü¢ General inquiry</label>
                                    </div>
                                </div>
                                
                                <div class="form-field span-full">
                                    <button type="submit" class="btn btn-primary">Send Message</button>
                                </div>
                                
                                <div id="formStatus" class="form-status span-full"></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container footer-container">
            <div class="footer-logo">
                 <a href="index.html">
                    <img src="Images/logo-no-tagline.png" alt="My Benefits Help - Employee Benefits Administration Services" width="160" height="48">
                </a>
            </div>
            <div class="footer-text">
                <p><strong>My Benefits Help</strong> | Smarter, simpler benefits service.</p>
                <p class="copyright">&copy; <span id="year"></span> My Benefits Help. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        'use strict';

        document.addEventListener('DOMContentLoaded', function() {

            // Set current year in footer
            document.getElementById('year').textContent = new Date().getFullYear();

            // Mobile Menu Toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                    menuToggle.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('is-open');
                    document.body.classList.toggle('menu-open');
                });
            }

            // Header scroll effect
            const header = document.getElementById('site-header');
            if (header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 10) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                });
            }
            
            // Animate elements on scroll
            const scrollElements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, {
                threshold: 0.1
            });
            scrollElements.forEach(el => observer.observe(el));


            // Contact Form Logic
            const contactForm = document.getElementById('contactForm');
            const audienceSelect = document.getElementById('audience');
            const conditionalFields = document.getElementById('conditionalFields');

            if (audienceSelect) {
                audienceSelect.addEventListener('change', function(e) {
                    updateConditionalFields(e.target.value);
                });
            }
            
            window.selectAudience = function(audienceType) {
                if (audienceSelect) {
                    audienceSelect.value = audienceType;
                    audienceSelect.dispatchEvent(new Event('change'));
                    const formContainer = document.getElementById('contact-form');
                    if (formContainer) {
                        formContainer.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            };
            
            function updateConditionalFields(audience) {
                let additionalFieldsHTML = '';
                
                // This function dynamically creates the HTML for the form fields
                // based on the user's selection, and injects it into the conditionalFields div.
                // It's structured to work with the new CSS grid layout.
                
                if (audience === 'broker-partnership') {
                    additionalFieldsHTML = `
                        <div class="contact-form" style="gap: 1rem; margin-top: 1rem;">
                            <div class="form-field">
                                <label for="company">Agency Name</label>
                                <input type="text" id="company" name="company" placeholder="Your agency name">
                            </div>
                            <div class="form-field">
                                <label for="groupCount">Approx. number of groups</label>
                                <select id="groupCount" name="groupCount">
                                    <option value="">Select range...</option>
                                    <option value="1-10">1-10</option>
                                    <option value="11-25">11-25</option>
                                    <option value="26-50">26-50</option>
                                    <option value="51-100">51-100</option>
                                    <option value="100+">100+</option>
                                </select>
                            </div>
                        </div>
                    `;
                } else if (audience === 'employer-support' || audience === 'claims-help' || audience === 'other') {
                    additionalFieldsHTML = `
                        <div class="contact-form" style="gap: 1rem; margin-top: 1rem;">
                            <div class="form-field span-full">
                                <label for="employerName">Employer/Group Name</label>
                                <input type="text" id="employerName" name="employerName" placeholder="e.g., Acme Corp">
                            </div>
                        </div>
                    `;
                }
                
                conditionalFields.innerHTML = additionalFieldsHTML;
            }

            // Handle form submission with Fetch API for a smooth UX
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    const form = e.target;
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries()); // Convert form data to a plain object
                    
                    const statusDiv = document.getElementById('formStatus');
                    const formContainer = document.getElementById('contactFormContainer');
                    const thankYouDiv = document.getElementById('thankYou');
                    const submitButton = form.querySelector('button[type="submit"]');

                    statusDiv.innerHTML = 'Sending...';
                    statusDiv.style.color = 'var(--mbh-muted)';
                    submitButton.disabled = true;

                    fetch('/api/send-email', { // This now points to your Vercel function
                        method: 'POST',
                        body: JSON.stringify(data), // Send data as a JSON string
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    }).then(response => {
                        if (response.ok) {
                            statusDiv.innerHTML = '';
                            formContainer.style.display = 'none';
                            thankYouDiv.innerHTML = `
                                <div style="text-align: center;">
                                    <h3>‚úÖ Thank You!</h3>
                                    <p>Your message has been sent successfully. We'll get back to you within 2 business hours.</p>
                                </div>
                            `;
                            thankYouDiv.style.display = 'block';
                            form.reset();
                            updateConditionalFields(''); // Clear conditional fields
                        } else {
                           response.json().then(data => {
                                statusDiv.innerHTML = data.error || "Oops! There was a problem submitting your form.";
                                statusDiv.style.color = 'red';
                            });
                        }
                    }).catch(error => {
                        statusDiv.innerHTML = "Oops! There was a problem submitting your form.";
                        statusDiv.style.color = 'red';
                    }).finally(() => {
                        submitButton.disabled = false; // Re-enable the button
                    });
                });
            }

            // Initial call to set fields if a value is pre-selected (e.g., from URL)
            if (audienceSelect) {
                updateConditionalFields(audienceSelect.value);
            }
        });
    </script>

</body>
</html>

